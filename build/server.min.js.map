{"version":3,"sources":["webpack:///server.min.js","webpack:///webpack/bootstrap d91ca32878968dd1502f","webpack:///./server.js","webpack:///./~/console-browserify/index.js","webpack:///external \"util\"","webpack:///external \"assert\"","webpack:///external \"date-now\"","webpack:///(webpack)/buildin/module.js","webpack:///external \"express\"","webpack:///external \"mongoose\"","webpack:///external \"body-parser\"","webpack:///external \"bcryptjs\"","webpack:///./models/user-model.js","webpack:///./models/networth-model.js","webpack:///./models/liability-model.js","webpack:///./models/asset-model.js","webpack:///./models/stats-model.js","webpack:///./authentication/passport.js","webpack:///external \"passport\"","webpack:///external \"passport-http\"","webpack:///external \"passport-local\"","webpack:///./config.js","webpack:///./~/process/browser.js"],"names":["e","a","i","exports","modules","__webpack_require__","moduleId","installedModules","module","id","loaded","call","m","c","p","console","_interopRequireDefault","obj","__esModule","default","runServer","callback","_mongoose2","connect","_config2","DATABASE_URL","err","server","app","listen","PORT","log","Object","defineProperty","value","_express","_express2","_mongoose","_bodyParser","_bodyParser2","_bcryptjs","_bcryptjs2","_userModel","_userModel2","_passport","_passport2","_config","error","jsonParser","json","urlParser","urlencoded","extended","use","initialize","static","post","authenticate","failWithError","req","res","username","body","findOne","user","JSON","stringify","status","next","message","trim","password","genSalt","salt","hash","firstname","lastname","initialNetworth","assets","type","description","net_value","index","liabilities","remaining_amount","stats","net","totalDebt","totalAssets","currentNetworth","netWorth","year","Date","getUTCFullYear","month","getUTCMonth","details","save","put","liabilityIndex","fieldName","fieldValue","length","liability","lastLiability","push","delete","remove","emptyLiability","assetIndex","asset","lastAsset","emptyAsset","global","info","apply","arguments","warn","time","label","times","now","timeEnd","Error","duration","trace","name","util","format","stack","dir","object","inspect","consoleAssert","expression","arr","slice","assert","ok","Array","prototype","window","functions","tuple","f","this","require","webpackPolyfill","deprecate","paths","children","_networthModel","_networthModel2","UserSchema","Schema","String","required","unique","Number","methods","validatePassword","compare","isValid","User","model","_liabilityModel","_liabilityModel2","_assetModel","_assetModel2","_statsModel","_statsModel2","NetworthSchema","LiabilitySchema","AssetSchema","StatsSchema","_passportHttp","_passportHttp2","_passportLocal","_passportLocal2","LocalStrategy","BasicStrategy","Strategy","strategy","done","serializeUser","deserializeUser","findById","process","env","NODE_ENV","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","umask"],"mappings":"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","file":"server.min.js","sourcesContent":["(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(console, module) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _express = __webpack_require__(6);\n\t\n\tvar _express2 = _interopRequireDefault(_express);\n\t\n\tvar _mongoose = __webpack_require__(7);\n\t\n\tvar _mongoose2 = _interopRequireDefault(_mongoose);\n\t\n\tvar _bodyParser = __webpack_require__(8);\n\t\n\tvar _bodyParser2 = _interopRequireDefault(_bodyParser);\n\t\n\tvar _bcryptjs = __webpack_require__(9);\n\t\n\tvar _bcryptjs2 = _interopRequireDefault(_bcryptjs);\n\t\n\tvar _userModel = __webpack_require__(10);\n\t\n\tvar _userModel2 = _interopRequireDefault(_userModel);\n\t\n\tvar _passport = __webpack_require__(15);\n\t\n\tvar _passport2 = _interopRequireDefault(_passport);\n\t\n\tvar _config = __webpack_require__(19);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar server = void 0;\n\tfunction runServer(callback) {\n\t\t_mongoose2.default.connect(_config2.default.DATABASE_URL, function (err) {\n\t\t\tif (err && callback) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\n\t\t\tserver = app.listen(_config2.default.PORT, function () {\n\t\t\t\tconsole.log('Listening on localhost:' + _config2.default.PORT);\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\t\n\tif (__webpack_require__.c[0] === module) {\n\t\trunServer(function (err) {\n\t\t\tif (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t});\n\t};\n\t\n\tvar app = (0, _express2.default)();\n\tvar jsonParser = _bodyParser2.default.json();\n\tvar urlParser = _bodyParser2.default.urlencoded({\n\t\textended: true\n\t});\n\tapp.use(jsonParser);\n\tapp.use(urlParser);\n\tapp.use(_passport2.default.initialize());\n\tapp.use(_express2.default.static('client/build'));\n\tapp.post('/login', _passport2.default.authenticate('local', { failWithError: true }), function (req, res) {\n\t\tvar username = req.body.username;\n\t\t_userModel2.default.findOne({ username: username }, function (err, user) {\n\t\t\tconsole.log(\"DEBUG login user found: \" + JSON.stringify(user));\n\t\t\treturn res.status(201).json(user);\n\t\t});\n\t}, function (err, req, res, next) {\n\t\treturn res.json(err);\n\t});\n\t\n\tapp.post('/users', function (req, res) {\n\t\tif (!req.body) {\n\t\t\treturn res.status(400).json({\n\t\t\t\tmessage: \"No request body\"\n\t\t\t});\n\t\t}\n\t\n\t\tif (!('username' in req.body)) {\n\t\t\treturn res.status(422).json({\n\t\t\t\tmessage: 'Missing field: username'\n\t\t\t});\n\t\t}\n\t\n\t\tvar username = req.body.username;\n\t\n\t\tif (typeof username !== 'string') {\n\t\t\treturn res.status(422).json({\n\t\t\t\tmessage: 'Incorrect field type: username'\n\t\t\t});\n\t\t}\n\t\n\t\tusername = username.trim();\n\t\n\t\tif (username === '') {\n\t\t\treturn res.status(422).json({\n\t\t\t\tmessage: 'Incorrect field length: username'\n\t\t\t});\n\t\t}\n\t\n\t\tif (!('password' in req.body)) {\n\t\t\treturn res.status(422).json({\n\t\t\t\tmessage: 'Missing field: password'\n\t\t\t});\n\t\t}\n\t\n\t\tvar password = req.body.password;\n\t\n\t\tif (typeof password !== 'string') {\n\t\t\treturn res.status(422).json({\n\t\t\t\tmessage: 'Incorrect field type: password'\n\t\t\t});\n\t\t}\n\t\n\t\tpassword = password.trim();\n\t\n\t\tif (password === '') {\n\t\t\treturn res.status(422).json({\n\t\t\t\tmessage: 'Incorrect field length: password'\n\t\t\t});\n\t\t}\n\t\n\t\t_bcryptjs2.default.genSalt(10, function (err, salt) {\n\t\t\tif (err) {\n\t\t\t\treturn res.status(500).json({\n\t\t\t\t\tmessage: 'salt error' + err\n\t\t\t\t});\n\t\t\t}\n\t\t\t_bcryptjs2.default.hash(password, salt, function (err, hash) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn res.status(500).json({\n\t\t\t\t\t\tmessage: 'encryption error' + err\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar firstname = req.body.firstname;\n\t\t\t\tvar lastname = req.body.lastname;\n\t\n\t\t\t\tvar initialNetworth = [{\n\t\t\t\t\tassets: [{\n\t\t\t\t\t\ttype: \"\",\n\t\t\t\t\t\tdescription: \"\",\n\t\t\t\t\t\tnet_value: 0,\n\t\t\t\t\t\tindex: 0\n\t\t\t\t\t}],\n\t\t\t\t\tliabilities: [{\n\t\t\t\t\t\ttype: \"\",\n\t\t\t\t\t\tdescription: \"\",\n\t\t\t\t\t\tremaining_amount: 0,\n\t\t\t\t\t\tindex: 0\n\t\t\t\t\t}],\n\t\t\t\t\tstats: [{\n\t\t\t\t\t\tnet: 0,\n\t\t\t\t\t\ttotalDebt: 0,\n\t\t\t\t\t\ttotalAssets: 0\n\t\t\t\t\t}]\n\t\t\t\t}];\n\t\t\t\tvar user = new _userModel2.default({\n\t\t\t\t\tusername: username,\n\t\t\t\t\tpassword: hash,\n\t\t\t\t\tfirstname: firstname,\n\t\t\t\t\tlastname: lastname,\n\t\t\t\t\tcurrentNetworth: initialNetworth,\n\t\t\t\t\tnetWorth: [{\n\t\t\t\t\t\tyear: new Date().getUTCFullYear(),\n\t\t\t\t\t\tmonth: new Date().getUTCMonth(),\n\t\t\t\t\t\tdetails: initialNetworth\n\t\t\t\t\t}]\n\t\t\t\t});\n\t\t\t\tuser.save(function (err) {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn res.status(500).json({\n\t\t\t\t\t\t\tmessage: 'Database Error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(\"DEBUG with init networh \" + JSON.stringify(user));\n\t\t\t\t\treturn res.status(201).json(user);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\t\n\tapp.put('/liability', function (req, res) {\n\t\tif (!req.body) {\n\t\t\treturn res.status(400).json({\n\t\t\t\tmessage: \"No request body\"\n\t\t\t});\n\t\t}\n\t\tvar username = req.body.username;\n\t\tvar liabilityIndex = req.body.liabilityIndex;\n\t\tvar fieldName = req.body.fieldName;\n\t\tvar fieldValue = req.body.fieldValue;\n\t\t_userModel2.default.findOne({ username: username }, function (err, user) {\n\t\n\t\t\tif (user.currentNetworth[0].liabilities.length > liabilityIndex) {\n\t\t\t\tvar liability = user.currentNetworth[0].liabilities[liabilityIndex];\n\t\t\t\tliability[fieldName] = fieldValue;\n\t\t\t}\n\t\n\t\t\tvar lastLiability = user.currentNetworth[0].liabilities[user.currentNetworth[0].liabilities.length - 1];\n\t\t\tif (lastLiability.type != '' || lastLiability.description != '' || lastLiability.remaining_amount != 0) {\n\t\t\t\tuser.currentNetworth[0].liabilities.push({\n\t\t\t\t\ttype: \"\",\n\t\t\t\t\tdescription: \"\",\n\t\t\t\t\tremaining_amount: 0,\n\t\t\t\t\tindex: lastLiability.index + 1\n\t\t\t\t});\n\t\t\t}\n\t\t\tuser.save();\n\t\t\treturn res.status(200).json(user);\n\t\t});\n\t});\n\tapp.delete('/liability', function (req, res) {\n\t\tif (!req.body) {\n\t\t\treturn res.status(400).json({\n\t\t\t\tmessage: \"No request body\"\n\t\t\t});\n\t\t}\n\t\tvar username = req.body.username;\n\t\tvar liabilityIndex = req.body.liabilityIndex;\n\t\t_userModel2.default.findOne({ username: username }, function (err, user) {\n\t\t\tif (user.currentNetworth[0].liabilities.length > liabilityIndex) {\n\t\t\t\tvar liability = user.currentNetworth[0].liabilities[liabilityIndex];\n\t\t\t\tliability.remove();\n\t\t\t}\n\t\t\tvar emptyLiability = {\n\t\t\t\ttype: \"\",\n\t\t\t\tdescription: \"\",\n\t\t\t\tremaining_amount: 0\n\t\t\t};\n\t\t\tif (user.currentNetworth[0].liabilities.length == 0) {\n\t\t\t\temptyLiability.index = 0;\n\t\t\t\tuser.currentNetworth[0].liabilities.push(emptyLiability);\n\t\t\t} else {\n\t\t\t\tvar lastLiability = user.currentNetworth[0].liabilities[user.currentNetworth[0].liabilities.length - 1];\n\t\t\t\tif (lastLiability.type != '' || lastLiability.description != '' || lastLiability.remaining_amount != 0) {\n\t\t\t\t\temptyLiability.index = lastLiability.index + 1;\n\t\t\t\t\tuser.currentNetworth[0].liabilities.push(emptyLiability);\n\t\t\t\t}\n\t\t\t}\n\t\t\tuser.save();\n\t\t\treturn res.status(200).json(user);\n\t\t});\n\t});\n\tapp.put('/asset', function (req, res) {\n\t\tif (!req.body) {\n\t\t\treturn res.status(400).json({\n\t\t\t\tmessage: \"No request body\"\n\t\t\t});\n\t\t}\n\t\tvar username = req.body.username;\n\t\tvar assetIndex = req.body.assetIndex;\n\t\tvar fieldName = req.body.fieldName;\n\t\tvar fieldValue = req.body.fieldValue;\n\t\t_userModel2.default.findOne({ username: username }, function (err, user) {\n\t\n\t\t\tif (user.currentNetworth[0].assets.length > assetIndex) {\n\t\t\t\tvar asset = user.currentNetworth[0].assets[assetIndex];\n\t\t\t\tasset[fieldName] = fieldValue;\n\t\t\t}\n\t\n\t\t\tvar lastAsset = user.currentNetworth[0].assets[user.currentNetworth[0].assets.length - 1];\n\t\t\tif (lastAsset.type != '' || lastAsset.description != '' || lastAsset.net_value != 0) {\n\t\t\t\tuser.currentNetworth[0].assets.push({\n\t\t\t\t\ttype: \"\",\n\t\t\t\t\tdescription: \"\",\n\t\t\t\t\tnet_value: 0,\n\t\t\t\t\tindex: lastAsset.index + 1\n\t\t\t\t});\n\t\t\t}\n\t\t\tuser.save();\n\t\t\treturn res.status(200).json(user);\n\t\t});\n\t});\n\tapp.delete('/asset', function (req, res) {\n\t\tif (!req.body) {\n\t\t\treturn res.status(400).json({\n\t\t\t\tmessage: \"No request body\"\n\t\t\t});\n\t\t}\n\t\tvar username = req.body.username;\n\t\tvar assetIndex = req.body.assetIndex;\n\t\t_userModel2.default.findOne({ username: username }, function (err, user) {\n\t\t\tif (user.currentNetworth[0].assets.length > assetIndex) {\n\t\t\t\tvar asset = user.currentNetworth[0].assets[assetIndex];\n\t\t\t\tasset.remove();\n\t\t\t}\n\t\t\tvar emptyAsset = {\n\t\t\t\ttype: \"\",\n\t\t\t\tdescription: \"\",\n\t\t\t\tnet_value: 0\n\t\t\t};\n\t\t\tif (user.currentNetworth[0].assets.length == 0) {\n\t\t\t\temptyAsset.index = 0;\n\t\t\t\tuser.currentNetworth[0].assets.push(emptyAsset);\n\t\t\t} else {\n\t\t\t\tvar lastAsset = user.currentNetworth[0].assets[user.currentNetworth[0].assets.length - 1];\n\t\t\t\tif (lastAsset.type != '' || lastAsset.description != '' || lastAsset.net_value != 0) {\n\t\t\t\t\temptyAsset.index = lastAsset.index + 1;\n\t\t\t\t\tuser.currentNetworth[0].assets.push(emptyAsset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tuser.save();\n\t\t\treturn res.status(200).json(user);\n\t\t});\n\t});\n\t\n\texports.default = app;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1), __webpack_require__(5)(module)))\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/*global window, global*/\n\tvar util = __webpack_require__(2)\n\tvar assert = __webpack_require__(3)\n\tvar now = __webpack_require__(4)\n\t\n\tvar slice = Array.prototype.slice\n\tvar console\n\tvar times = {}\n\t\n\tif (typeof global !== \"undefined\" && global.console) {\n\t    console = global.console\n\t} else if (typeof window !== \"undefined\" && window.console) {\n\t    console = window.console\n\t} else {\n\t    console = {}\n\t}\n\t\n\tvar functions = [\n\t    [log, \"log\"],\n\t    [info, \"info\"],\n\t    [warn, \"warn\"],\n\t    [error, \"error\"],\n\t    [time, \"time\"],\n\t    [timeEnd, \"timeEnd\"],\n\t    [trace, \"trace\"],\n\t    [dir, \"dir\"],\n\t    [consoleAssert, \"assert\"]\n\t]\n\t\n\tfor (var i = 0; i < functions.length; i++) {\n\t    var tuple = functions[i]\n\t    var f = tuple[0]\n\t    var name = tuple[1]\n\t\n\t    if (!console[name]) {\n\t        console[name] = f\n\t    }\n\t}\n\t\n\tmodule.exports = console\n\t\n\tfunction log() {}\n\t\n\tfunction info() {\n\t    console.log.apply(console, arguments)\n\t}\n\t\n\tfunction warn() {\n\t    console.log.apply(console, arguments)\n\t}\n\t\n\tfunction error() {\n\t    console.warn.apply(console, arguments)\n\t}\n\t\n\tfunction time(label) {\n\t    times[label] = now()\n\t}\n\t\n\tfunction timeEnd(label) {\n\t    var time = times[label]\n\t    if (!time) {\n\t        throw new Error(\"No such label: \" + label)\n\t    }\n\t\n\t    var duration = now() - time\n\t    console.log(label + \": \" + duration + \"ms\")\n\t}\n\t\n\tfunction trace() {\n\t    var err = new Error()\n\t    err.name = \"Trace\"\n\t    err.message = util.format.apply(null, arguments)\n\t    console.error(err.stack)\n\t}\n\t\n\tfunction dir(object) {\n\t    console.log(util.inspect(object) + \"\\n\")\n\t}\n\t\n\tfunction consoleAssert(expression) {\n\t    if (!expression) {\n\t        var arr = slice.call(arguments, 1)\n\t        assert.ok(false, util.format.apply(null, arr))\n\t    }\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"util\");\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"assert\");\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"date-now\");\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\n\t\tif(!module.webpackPolyfill) {\n\t\t\tmodule.deprecate = function() {};\n\t\t\tmodule.paths = [];\n\t\t\t// module.parent = undefined by default\n\t\t\tmodule.children = [];\n\t\t\tmodule.webpackPolyfill = 1;\n\t\t}\n\t\treturn module;\n\t}\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"express\");\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"mongoose\");\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"body-parser\");\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"bcryptjs\");\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _mongoose = __webpack_require__(7);\n\t\n\tvar _mongoose2 = _interopRequireDefault(_mongoose);\n\t\n\tvar _bcryptjs = __webpack_require__(9);\n\t\n\tvar _bcryptjs2 = _interopRequireDefault(_bcryptjs);\n\t\n\tvar _networthModel = __webpack_require__(11);\n\t\n\tvar _networthModel2 = _interopRequireDefault(_networthModel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar UserSchema = new _mongoose2.default.Schema({\n\t    username: {\n\t        type: String,\n\t        required: true,\n\t        unique: true\n\t    },\n\t    firstname: {\n\t        type: String,\n\t        required: false,\n\t        unique: false\n\t    },\n\t    lastname: {\n\t        type: String,\n\t        required: false,\n\t        unique: false\n\t    },\n\t    password: {\n\t        type: String,\n\t        required: true\n\t    },\n\t    currentNetworth: [_networthModel2.default],\n\t    netWorth: [{\n\t        year: Number,\n\t        month: Number,\n\t        details: [_networthModel2.default]\n\t    }]\n\t});\n\t\n\tUserSchema.methods.validatePassword = function (password, callback) {\n\t    _bcryptjs2.default.compare(password, this.password, function (err, isValid) {\n\t        if (err) {\n\t            callback(err);\n\t            return;\n\t        }\n\t        callback(null, isValid);\n\t    });\n\t};\n\t\n\tvar User = _mongoose2.default.model('User', UserSchema);\n\t\n\texports.default = User;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _mongoose = __webpack_require__(7);\n\t\n\tvar _mongoose2 = _interopRequireDefault(_mongoose);\n\t\n\tvar _liabilityModel = __webpack_require__(12);\n\t\n\tvar _liabilityModel2 = _interopRequireDefault(_liabilityModel);\n\t\n\tvar _assetModel = __webpack_require__(13);\n\t\n\tvar _assetModel2 = _interopRequireDefault(_assetModel);\n\t\n\tvar _statsModel = __webpack_require__(14);\n\t\n\tvar _statsModel2 = _interopRequireDefault(_statsModel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar NetworthSchema = new _mongoose2.default.Schema({\n\t\tliabilities: [_liabilityModel2.default],\n\t\tassets: [_assetModel2.default],\n\t\tstats: [_statsModel2.default]\n\t});\n\t\n\tvar Networth = _mongoose2.default.model('Networth', NetworthSchema);\n\t\n\texports.default = NetworthSchema;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t       value: true\n\t});\n\t\n\tvar _mongoose = __webpack_require__(7);\n\t\n\tvar _mongoose2 = _interopRequireDefault(_mongoose);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar LiabilitySchema = new _mongoose2.default.Schema({\n\t       type: {\n\t              type: String,\n\t              required: false\n\t       },\n\t       description: {\n\t              type: String,\n\t              required: false,\n\t              unique: false\n\t       },\n\t       remaining_amount: {\n\t              type: Number,\n\t              required: false,\n\t              unique: false\n\t       },\n\t       index: {\n\t              type: Number,\n\t              required: true,\n\t              unique: true\n\t       }\n\t});\n\t\n\tvar Liability = _mongoose2.default.model('Liability', LiabilitySchema);\n\t\n\texports.default = LiabilitySchema;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t       value: true\n\t});\n\t\n\tvar _mongoose = __webpack_require__(7);\n\t\n\tvar _mongoose2 = _interopRequireDefault(_mongoose);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar AssetSchema = new _mongoose2.default.Schema({\n\t       type: {\n\t              type: String,\n\t              required: false\n\t       },\n\t       description: {\n\t              type: String,\n\t              required: false,\n\t              unique: false\n\t       },\n\t       net_value: {\n\t              type: Number,\n\t              required: false,\n\t              unique: false\n\t       },\n\t       index: {\n\t              type: Number,\n\t              required: true,\n\t              unique: true\n\t       }\n\t});\n\t\n\tvar Asset = _mongoose2.default.model('Asset', AssetSchema);\n\t\n\texports.default = AssetSchema;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t       value: true\n\t});\n\t\n\tvar _mongoose = __webpack_require__(7);\n\t\n\tvar _mongoose2 = _interopRequireDefault(_mongoose);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar StatsSchema = new _mongoose2.default.Schema({\n\t       net: {\n\t              type: Number,\n\t              required: false\n\t       },\n\t       totalDebt: {\n\t              type: Number,\n\t              required: false,\n\t              unique: false\n\t       },\n\t       totalAssets: {\n\t              type: Number,\n\t              required: false,\n\t              unique: false\n\t       }\n\t});\n\t\n\tvar Stats = _mongoose2.default.model('Stats', StatsSchema);\n\t\n\texports.default = StatsSchema;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _passport = __webpack_require__(16);\n\t\n\tvar _passport2 = _interopRequireDefault(_passport);\n\t\n\tvar _passportHttp = __webpack_require__(17);\n\t\n\tvar _passportHttp2 = _interopRequireDefault(_passportHttp);\n\t\n\tvar _passportLocal = __webpack_require__(18);\n\t\n\tvar _passportLocal2 = _interopRequireDefault(_passportLocal);\n\t\n\tvar _userModel = __webpack_require__(10);\n\t\n\tvar _userModel2 = _interopRequireDefault(_userModel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BasicStrategy = _passportHttp2.default.BasicStrategy;\n\tvar LocalStrategy = _passportLocal2.default.Strategy;\n\t\n\tvar strategy = new LocalStrategy('local', function (username, password, done) {\n\t  _userModel2.default.findOne({ username: username }, function (err, user) {\n\t    if (err) {\n\t      return done(err);\n\t    }\n\t    if (!user) {\n\t      return done('{\"error\":\"User does not exist\"}', false);\n\t    }\n\t    user.validatePassword(password, function (err, isValid) {\n\t      if (err !== null || !isValid) {\n\t        return done('{\"error\":\"Invalid Password\"}', false);\n\t      }\n\t      return done(null, user);\n\t    });\n\t  });\n\t});\n\t_passport2.default.serializeUser(function (user, done) {\n\t  done(null, user.id);\n\t});\n\t\n\t// used to deserialize the user\n\t_passport2.default.deserializeUser(function (id, done) {\n\t  _userModel2.default.findById(id, function (err, user) {\n\t    done(err, user);\n\t  });\n\t});\n\t\n\t_passport2.default.use(strategy);\n\texports.default = _passport2.default;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"passport\");\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"passport-http\");\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"passport-local\");\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process, global) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t     value: true\n\t});\n\texports.default = { DATABASE_URL: process.env.DATABASE_URL || global.DATABASE_URL || (process.env.NODE_ENV === 'production' ? 'mongodb://test:test@ds119768.mlab.com:19768/worthysum-mlab' : 'mongodb://localhost/worthysum-dev'),\n\t     PORT: process.env.PORT || 3001\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(20), (function() { return this; }())))\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }\n/******/ ])));\n\n\n// WEBPACK FOOTER //\n// server.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d91ca32878968dd1502f","import express from 'express';\r\nimport mongoose from 'mongoose';\r\nimport bodyParser from 'body-parser';\nimport bcrypt from 'bcryptjs';\r\n\nimport User from './models/user-model';\nimport passport from './authentication/passport';\r\nimport config from './config';\r\n\r\nlet server;\r\nfunction runServer(callback){\r\n\tmongoose.connect(config.DATABASE_URL, (err)=>{\r\n\t\tif(err && callback){\r\n\t\t\treturn callback(err);\r\n\t\t}\r\n\r\n\t\tserver=app.listen(config.PORT, ()=>{\r\n\t\t\tconsole.log('Listening on localhost:' + config.PORT);\r\n\t\t\tif(callback){ \r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t});\t\r\n\t});\r\n};\r\n\r\nif(require.main === module){\r\n\trunServer((err)=>{\r\n\t\tif(err){\r\n\t\t\tconsole.error(err);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nlet app = express();\r\nlet jsonParser = bodyParser.json();\nlet urlParser=bodyParser.urlencoded({\n\textended:true\n});\napp.use(jsonParser);\napp.use(urlParser);\napp.use(passport.initialize());\napp.use(express.static('client/build'))\r\napp.post('/login', passport.authenticate('local',{ failWithError: true }),\n\tfunction(req, res) {\r\n\t\tlet username = req.body.username;\r\n\t\tUser.findOne({ username: username },  (err, user)=> {\r\n\t\t\tconsole.log(\"DEBUG login user found: \"+JSON.stringify(user));\r\n\t\t\treturn res.status(201).json(user);\r\n\t\t});\t\t\n\t  },\r\n\tfunction(err, req, res, next) {\r\n\t\treturn res.json(err); \r\n\t  }\n);\n\r\napp.post('/users',  (req, res)=>{\r\n    if (!req.body) {\r\n        return res.status(400).json({\r\n            message: \"No request body\"\r\n        });\r\n    }\r\n\r\n    if (!('username' in req.body)) {\r\n        return res.status(422).json({\r\n            message: 'Missing field: username'\r\n        });\r\n    }\r\n\r\n    let username = req.body.username;\r\n\r\n    if (typeof username !== 'string') {\r\n        return res.status(422).json({\r\n            message: 'Incorrect field type: username'\r\n        });\r\n    }\r\n\r\n    username = username.trim();\r\n\r\n    if (username === '') {\r\n        return res.status(422).json({\r\n            message: 'Incorrect field length: username'\r\n        });\r\n    }\r\n\r\n    if (!('password' in req.body)) {\r\n        return res.status(422).json({\r\n            message: 'Missing field: password'\r\n        });\r\n    }\r\n\r\n    let password = req.body.password;\r\n\r\n    if (typeof password !== 'string') {\r\n        return res.status(422).json({\r\n            message: 'Incorrect field type: password'\r\n        });\r\n    }\r\n\r\n    password = password.trim();\r\n\r\n    if (password === '') {\r\n        return res.status(422).json({\r\n            message: 'Incorrect field length: password'\r\n        });\r\n    }\r\n\n\tbcrypt.genSalt(10, (err, salt)=> {\n        if (err) {\n            return res.status(500).json({\n                message: 'salt error'+err\n            });\n        }\n\t\tbcrypt.hash(password, salt, function(err, hash) {\n            if (err) {\n                return res.status(500).json({\n                    message: 'encryption error'+err\n                });\n            }\r\n\t\t\tlet firstname = req.body.firstname;\r\n\t\t\tlet lastname = req.body.lastname;\r\n\t\t\t\r\n\t\t\tlet initialNetworth=[{\r\n\t\t\t\tassets:[{\r\n\t\t\t\t\ttype:\"\",\r\n\t\t\t\t\tdescription:\"\",\r\n\t\t\t\t\tnet_value:0,\r\n\t\t\t\t\tindex:0\r\n\t\t\t\t}],\r\n\t\t\t\tliabilities:[{\r\n\t\t\t\t\ttype:\"\",\r\n\t\t\t\t\tdescription:\"\",\r\n\t\t\t\t\tremaining_amount:0,\r\n\t\t\t\t\tindex:0\r\n\t\t\t\t}],\r\n\t\t\t\tstats:[{\r\n\t\t\t\t\tnet:0,\r\n\t\t\t\t\ttotalDebt:0,\r\n\t\t\t\t\ttotalAssets:0\r\n\t\t\t\t}]\r\n\t\t\t}]\r\n\t\t\tlet user = new User({\r\n\t\t\t\tusername: username,\r\n\t\t\t\tpassword: hash,\r\n\t\t\t\tfirstname: firstname,\r\n\t\t\t\tlastname: lastname,\r\n\t\t\t\tcurrentNetworth:initialNetworth,\r\n\t\t\t\tnetWorth:[{\r\n\t\t\t\t\tyear:new Date().getUTCFullYear(),\r\n\t\t\t\t\tmonth:new Date().getUTCMonth(),\r\n\t\t\t\t\tdetails:initialNetworth\r\n\t\t\t\t}]\r\n\t\t\t});\n\t\t\tuser.save((err)=>{\n\t\t\t\tif (err) {\n\t\t\t\t\treturn res.status(500).json({\n\t\t\t\t\t\tmessage: 'Database Error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconsole.log(\"DEBUG with init networh \"+JSON.stringify(user));\n\t\t\t\treturn res.status(201).json(user);\n\t\t\t});\t\t\t\n\t\t});\t\t\n\t});\r\n     \r\n    \r\n});\r\n\r\napp.put('/liability',  (req, res)=>{\r\n    if (!req.body) {\r\n        return res.status(400).json({\r\n            message: \"No request body\"\r\n        });\r\n    }\r\n\tlet username = req.body.username;\r\n\tlet liabilityIndex = req.body.liabilityIndex;\r\n\tlet fieldName=req.body.fieldName;\r\n\tlet fieldValue=req.body.fieldValue;\r\n\tUser.findOne({ username: username },  (err, user)=> {\r\n\t\t\r\n\t\tif(user.currentNetworth[0].liabilities.length>liabilityIndex){\r\n\t\t\tlet liability=user.currentNetworth[0].liabilities[liabilityIndex];\r\n\t\t\tliability[fieldName]=fieldValue;\r\n\t\t}\r\n\t\t\r\n\t\tlet lastLiability=user.currentNetworth[0].liabilities[user.currentNetworth[0].liabilities.length-1];\r\n\t\tif(lastLiability.type!='' || lastLiability.description!='' || lastLiability.remaining_amount!=0){\r\n\t\t\tuser.currentNetworth[0].liabilities.push(\r\n\t\t\t\t{\r\n\t\t\t\t\ttype:\"\",\r\n\t\t\t\t\tdescription:\"\",\r\n\t\t\t\t\tremaining_amount:0,\r\n\t\t\t\t\tindex:lastLiability.index+1\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t\tuser.save();\r\n\t\treturn res.status(200).json(user);\r\n\t\t\r\n\t\t\r\n\t});\r\n});\r\napp.delete('/liability',  (req, res)=>{\r\n    if (!req.body) {\r\n        return res.status(400).json({\r\n            message: \"No request body\"\r\n        });\r\n    }\r\n\tlet username = req.body.username;\r\n\tlet liabilityIndex = req.body.liabilityIndex;\r\n\tUser.findOne({ username: username },  (err, user)=> {\r\n\t\tif(user.currentNetworth[0].liabilities.length>liabilityIndex){\r\n\t\t\tlet liability=user.currentNetworth[0].liabilities[liabilityIndex];\r\n\t\t\tliability.remove();\r\n\t\t}\r\n\t\tlet emptyLiability={\r\n\t\t\t\t\ttype:\"\",\r\n\t\t\t\t\tdescription:\"\",\r\n\t\t\t\t\tremaining_amount:0\r\n\t\t\t\t}\r\n\t\tif(user.currentNetworth[0].liabilities.length==0){\r\n\t\t\temptyLiability.index=0;\r\n\t\t\tuser.currentNetworth[0].liabilities.push(emptyLiability);\r\n\t\t} else {\r\n\t\t\tlet lastLiability=user.currentNetworth[0].liabilities[user.currentNetworth[0].liabilities.length-1];\r\n\t\t\tif(lastLiability.type!='' || lastLiability.description!='' || lastLiability.remaining_amount!=0){\r\n\t\t\t\temptyLiability.index=lastLiability.index+1;\r\n\t\t\t\tuser.currentNetworth[0].liabilities.push(emptyLiability);\r\n\t\t\t}\r\n\t\t}\r\n\t\tuser.save();\r\n\t\treturn res.status(200).json(user);\r\n\t\t\r\n\t\t\r\n\t});\r\n});\r\napp.put('/asset',  (req, res)=>{\r\n    if (!req.body) {\r\n        return res.status(400).json({\r\n            message: \"No request body\"\r\n        });\r\n    }\r\n\tlet username = req.body.username;\r\n\tlet assetIndex = req.body.assetIndex;\r\n\tlet fieldName=req.body.fieldName;\r\n\tlet fieldValue=req.body.fieldValue;\r\n\tUser.findOne({ username: username },  (err, user)=> {\r\n\t\t\r\n\t\tif(user.currentNetworth[0].assets.length>assetIndex){\r\n\t\t\tlet asset=user.currentNetworth[0].assets[assetIndex];\r\n\t\t\tasset[fieldName]=fieldValue;\r\n\t\t}\r\n\t\t\r\n\t\tlet lastAsset=user.currentNetworth[0].assets[user.currentNetworth[0].assets.length-1];\r\n\t\tif(lastAsset.type!='' || lastAsset.description!='' || lastAsset.net_value!=0){\r\n\t\t\tuser.currentNetworth[0].assets.push(\r\n\t\t\t\t{\r\n\t\t\t\t\ttype:\"\",\r\n\t\t\t\t\tdescription:\"\",\r\n\t\t\t\t\tnet_value:0,\r\n\t\t\t\t\tindex:lastAsset.index+1\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t\tuser.save();\r\n\t\treturn res.status(200).json(user);\r\n\t\t\r\n\t\t\r\n\t});\r\n});\r\napp.delete('/asset',  (req, res)=>{\r\n    if (!req.body) {\r\n        return res.status(400).json({\r\n            message: \"No request body\"\r\n        });\r\n    }\r\n\tlet username = req.body.username;\r\n\tlet assetIndex = req.body.assetIndex;\r\n\tUser.findOne({ username: username },  (err, user)=> {\r\n\t\tif(user.currentNetworth[0].assets.length>assetIndex){\r\n\t\t\tlet asset=user.currentNetworth[0].assets[assetIndex];\r\n\t\t\tasset.remove();\r\n\t\t}\r\n\t\tlet emptyAsset={\r\n\t\t\t\t\ttype:\"\",\r\n\t\t\t\t\tdescription:\"\",\r\n\t\t\t\t\tnet_value:0\r\n\t\t\t\t}\r\n\t\tif(user.currentNetworth[0].assets.length==0){\r\n\t\t\temptyAsset.index=0;\r\n\t\t\tuser.currentNetworth[0].assets.push(emptyAsset);\r\n\t\t} else {\r\n\t\t\tlet lastAsset=user.currentNetworth[0].assets[user.currentNetworth[0].assets.length-1];\r\n\t\t\tif(lastAsset.type!='' || lastAsset.description!='' || lastAsset.net_value!=0){\r\n\t\t\t\temptyAsset.index=lastAsset.index+1;\r\n\t\t\t\tuser.currentNetworth[0].assets.push(emptyAsset);\r\n\t\t\t}\r\n\t\t}\r\n\t\tuser.save();\r\n\t\treturn res.status(200).json(user);\r\n\t\t\r\n\t\t\r\n\t});\r\n});\n\nexport default app;\n\n\n// WEBPACK FOOTER //\n// ./server.js","/*global window, global*/\nvar util = require(\"util\")\nvar assert = require(\"assert\")\nvar now = require(\"date-now\")\n\nvar slice = Array.prototype.slice\nvar console\nvar times = {}\n\nif (typeof global !== \"undefined\" && global.console) {\n    console = global.console\n} else if (typeof window !== \"undefined\" && window.console) {\n    console = window.console\n} else {\n    console = {}\n}\n\nvar functions = [\n    [log, \"log\"],\n    [info, \"info\"],\n    [warn, \"warn\"],\n    [error, \"error\"],\n    [time, \"time\"],\n    [timeEnd, \"timeEnd\"],\n    [trace, \"trace\"],\n    [dir, \"dir\"],\n    [consoleAssert, \"assert\"]\n]\n\nfor (var i = 0; i < functions.length; i++) {\n    var tuple = functions[i]\n    var f = tuple[0]\n    var name = tuple[1]\n\n    if (!console[name]) {\n        console[name] = f\n    }\n}\n\nmodule.exports = console\n\nfunction log() {}\n\nfunction info() {\n    console.log.apply(console, arguments)\n}\n\nfunction warn() {\n    console.log.apply(console, arguments)\n}\n\nfunction error() {\n    console.warn.apply(console, arguments)\n}\n\nfunction time(label) {\n    times[label] = now()\n}\n\nfunction timeEnd(label) {\n    var time = times[label]\n    if (!time) {\n        throw new Error(\"No such label: \" + label)\n    }\n\n    var duration = now() - time\n    console.log(label + \": \" + duration + \"ms\")\n}\n\nfunction trace() {\n    var err = new Error()\n    err.name = \"Trace\"\n    err.message = util.format.apply(null, arguments)\n    console.error(err.stack)\n}\n\nfunction dir(object) {\n    console.log(util.inspect(object) + \"\\n\")\n}\n\nfunction consoleAssert(expression) {\n    if (!expression) {\n        var arr = slice.call(arguments, 1)\n        assert.ok(false, util.format.apply(null, arr))\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/console-browserify/index.js\n// module id = 1\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"assert\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"assert\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"date-now\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"date-now\"\n// module id = 4\n// module chunks = 0","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tmodule.children = [];\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 5\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"bcryptjs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcryptjs\"\n// module id = 9\n// module chunks = 0","import mongoose from 'mongoose';\r\nimport bcrypt from 'bcryptjs';\r\nimport NetworthSchema from './networth-model'\r\n\r\nconst UserSchema = new mongoose.Schema({\r\n\tusername: {\r\n        type: String,\r\n        required: true,\r\n        unique: true\r\n    },\r\n\tfirstname: {\r\n        type: String,\r\n        required: false,\r\n        unique: false\r\n    },\r\n\tlastname: {\r\n        type: String,\r\n        required: false,\r\n        unique: false\r\n    },\r\n    password: {\r\n        type: String,\r\n        required: true\r\n    },\r\n\tcurrentNetworth:[NetworthSchema],\r\n\tnetWorth:[{\r\n\t\tyear:Number,\r\n\t\tmonth:Number,\r\n\t\tdetails:[NetworthSchema]\r\n\t}]\r\n});\r\n\r\nUserSchema.methods.validatePassword = function(password, callback) {\r\n    bcrypt.compare(password, this.password, function(err, isValid) {\r\n        if (err) {\r\n            callback(err);\r\n            return;\r\n        }\r\n        callback(null, isValid);\r\n    });\r\n};\r\n\r\nconst User = mongoose.model('User', UserSchema);\r\n\r\nexport default User;\n\n\n// WEBPACK FOOTER //\n// ./models/user-model.js","import mongoose from 'mongoose';\r\nimport LiabilitySchema from './liability-model'\r\nimport AssetSchema from './asset-model'\r\nimport StatsSchema from './stats-model'\r\nconst NetworthSchema = new mongoose.Schema({\r\n\tliabilities: [LiabilitySchema],\r\n\tassets: [AssetSchema],\r\n\tstats: [StatsSchema]\r\n});\r\n\r\n\r\n\r\nconst Networth = mongoose.model('Networth', NetworthSchema);\r\n\r\nexport default NetworthSchema;\n\n\n// WEBPACK FOOTER //\n// ./models/networth-model.js","import mongoose from 'mongoose';\r\n\r\nconst LiabilitySchema = new mongoose.Schema({\r\n\ttype: {\r\n        type: String,\r\n        required: false\r\n    },\r\n\tdescription: {\r\n        type: String,\r\n        required: false,\r\n        unique: false\r\n    },\r\n\tremaining_amount: {\r\n        type: Number,\r\n        required: false,\r\n        unique: false\r\n    },\r\n\tindex: {\r\n        type: Number,\r\n        required: true,\r\n        unique: true\r\n    }\r\n});\r\n\r\n\r\n\r\nconst Liability = mongoose.model('Liability', LiabilitySchema);\r\n\r\nexport default LiabilitySchema;\n\n\n// WEBPACK FOOTER //\n// ./models/liability-model.js","import mongoose from 'mongoose';\r\n\r\nconst AssetSchema = new mongoose.Schema({\r\n\ttype: {\r\n        type: String,\r\n        required: false\r\n    },\r\n\tdescription: {\r\n        type: String,\r\n        required: false,\r\n        unique: false\r\n    },\r\n\tnet_value: {\r\n        type: Number,\r\n        required: false,\r\n        unique: false\r\n    },\r\n\tindex: {\r\n        type: Number,\r\n        required: true,\r\n        unique: true\r\n    }\r\n});\r\n\r\n\r\n\r\nconst Asset = mongoose.model('Asset', AssetSchema);\r\n\r\nexport default AssetSchema;\n\n\n// WEBPACK FOOTER //\n// ./models/asset-model.js","import mongoose from 'mongoose';\r\n\r\nconst StatsSchema = new mongoose.Schema({\r\n\tnet: {\r\n        type: Number,\r\n        required: false\r\n    },\r\n\ttotalDebt: {\r\n        type: Number,\r\n        required: false,\r\n        unique: false\r\n    },\r\n\ttotalAssets: {\r\n        type: Number,\r\n        required: false,\r\n        unique: false\r\n    }\r\n});\r\n\r\n\r\n\r\nconst Stats = mongoose.model('Stats', StatsSchema);\r\n\r\nexport default StatsSchema;\n\n\n// WEBPACK FOOTER //\n// ./models/stats-model.js","import passport from 'passport';\r\nimport pHttp from 'passport-http';\r\nimport pLocal from 'passport-local';\r\nimport User from '../models/user-model';\r\nconst BasicStrategy=pHttp.BasicStrategy;\r\nconst LocalStrategy=pLocal.Strategy;\r\n\r\nconst strategy = new LocalStrategy('local',\r\n  (username, password, done) =>{\r\n    User.findOne({ username: username },  (err, user)=> {\r\n      if (err) { return done(err); }\r\n      if (!user) { return done('{\"error\":\"User does not exist\"}', false); }\r\n      user.validatePassword(password,(err,isValid)=>{\r\n\t\t  if(err!==null || !isValid){\r\n\t\t\t  return done('{\"error\":\"Invalid Password\"}', false);\r\n\t\t  }\r\n\t\t\treturn done(null, user);\r\n\t  })\r\n      \r\n    });\r\n  }\r\n);\r\n passport.serializeUser(function(user, done) {\r\n        done(null, user.id);\r\n    });\r\n\r\n    // used to deserialize the user\r\n    passport.deserializeUser(function(id, done) {\r\n        User.findById(id, function(err, user) {\r\n            done(err, user);\r\n        });\r\n    });\r\n\r\npassport.use(strategy);\r\nexport default passport;\n\n\n// WEBPACK FOOTER //\n// ./authentication/passport.js","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"passport-http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-http\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 18\n// module chunks = 0","export default{ DATABASE_URL : process.env.DATABASE_URL ||\r\n                       global.DATABASE_URL ||\r\n                       (process.env.NODE_ENV === 'production' ?\r\n                            'mongodb://test:test@ds119768.mlab.com:19768/worthysum-mlab' :\r\n                            'mongodb://localhost/worthysum-dev'),\r\n PORT : process.env.PORT || 3001\r\n}\n\n\n// WEBPACK FOOTER //\n// ./config.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 20\n// module chunks = 0"],"sourceRoot":""}